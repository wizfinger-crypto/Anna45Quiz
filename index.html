<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Quiz om Anna</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .question { margin-bottom: 20px; }
    .hidden { display: none; }
    button { margin: 5px; padding: 10px; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Quiz om [v칛ns namn]</h1>

  <!-- QUIZ-DELEN -->
  <div id="quiz"></div>

  <!-- RESULTAT-DELEN -->
  <div id="result" class="hidden">
    <h2>Du fick <span id="score"></span> r칛tt!</h2>
    <form id="sendForm">
      <label for="name">Ditt namn:</label>
      <input type="text" id="name" name="name" required>
      <button type="submit">Skicka resultat</button>
    </form>
  </div>

  <script>
    // ---- 游댮 L츿GG IN DINA FR칀GOR H츿R ----
    const questions = [
      { q: "Vilken 칛r hennes favoritf칛rg?", options: ["Bl친", "R칬d", "Gr칬n"], answer: 1 },
      { q: "Vilket 친r 칛r hon f칬dd?", options: ["1990", "1995", "2000"], answer: 0 },
      { q: "Favoritdjur?", options: ["Katt", "Hund", "Kanin"], answer: 2 }
      // 游녤 L칛gg till fler fr친gor h칛r, samma format
    ];

    let currentQuestion = 0;
    let score = 0;

    const quizDiv = document.getElementById("quiz");
    const resultDiv = document.getElementById("result");
    const scoreSpan = document.getElementById("score");

    // Visa en fr친ga i taget
    function showQuestion() {
      if (currentQuestion >= questions.length) {
        quizDiv.classList.add("hidden");
        resultDiv.classList.remove("hidden");
        scoreSpan.textContent = score;
        return;
      }

      const q = questions[currentQuestion];
      quizDiv.innerHTML = `
        <div class="question">
          <h3>${q.q}</h3>
          ${q.options.map((opt, i) => 
            <button onclick="checkAnswer(${i})">${opt}</button>
          ).join("")}
        </div>
      `;
    }

    // Kolla svar
    function checkAnswer(selected) {
      if (selected === questions[currentQuestion].answer) {
        score++;
      }
      currentQuestion++;
      showQuestion();
    }

    showQuestion();

    // ---- 游댮 SKICKA RESULTAT TILL GOOGLE FORM ----
    const form = document.getElementById("sendForm");
    form.addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.getElementById("name").value;

      // 游댮 BYT UT DENNA MOT DIN EGEN FORM-URL
      const formUrl = "https://docs.google.com/forms/u/0/d/e/1FAIpQLSdOgJprJzcLMgFLy00tqZdBl1U_YCO1wymXGi5WwZhcY1WOUw/formResponse";
      
      // 游댮 BYT UT entry.XXXX MOT DINA RIKTIGA ID:N
      const data = new FormData();
      data.append("entry.0", name);  // <-- ID f칬r "Namn"
      data.append("entry.2", score); // <-- ID f칬r "Po칛ng"

      fetch(formUrl, { method: "POST", body: data, mode: "no-cors" })
        .then(() => {
          form.innerHTML = "<p>Tack! Ditt resultat har skickats in 游꿀</p>";
        })
        .catch(err => {
          console.error("Fel vid inskick:", err);
          form.innerHTML = "<p>N친got gick fel, f칬rs칬k igen.</p>";
        });
    });
  </script>
</body>
</html>
